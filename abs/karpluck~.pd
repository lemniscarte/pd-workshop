#N canvas 1902 142 634 402 10;
#X obj 82 31 inlet midi_note;
#X obj 338 31 inlet width;
#X obj 417 31 inlet decay;
#X obj 496 31 inlet cutoff;
#X obj 82 345 outlet~;
#N canvas 1466 628 239 244 excitation~ 0;
#X obj 31 18 inlet midi_note;
#X obj 141 18 inlet width;
#X obj 31 140 vline~;
#X obj 114 140 noise~;
#X obj 31 174 *~;
#X obj 31 201 outlet~;
#X obj 31 44 bang;
#X obj 114 69 del 5;
#X msg 31 92 1 1;
#X msg 114 92 0 1;
#X connect 0 0 6 0;
#X connect 1 0 7 1;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 6 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 2 0;
#X connect 9 0 2 0;
#X restore 82 173 pd excitation~;
#N canvas 1751 627 722 472 body~ 0;
#X obj 55 52 inlet~;
#X obj 251 380 outlet~;
#X obj 431 380 block~ 1;
#X obj 55 380 delwrite~ \$0-dl 1000;
#X obj 129 241 delread~ \$0-dl 12;
#X obj 129 88 mtof;
#X obj 129 118 t b f, f 9;
#X obj 129 179 /;
#X msg 129 144 1;
#X obj 129 209 * 1000;
#X obj 129 52 inlet midi_note;
#X obj 419 52 inlet decay;
#X obj 519 52 inlet cutoff;
#X text 430 329 Block size needs to be 1 sample for this subpatch to
ensure correct tuning and operation for delay line feedback, f 40
;
#X text 184 153 Convert a midi note into the required delay line length
(in ms) to generate said pitch., f 26;
#X obj 251 289 lop~, f 14;
#X obj 251 333 *~;
#X connect 0 0 3 0;
#X connect 4 0 15 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 1 7 1;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 4 0;
#X connect 10 0 5 0;
#X connect 11 0 16 1;
#X connect 12 0 15 1;
#X connect 15 0 16 0;
#X connect 16 0 1 0;
#X connect 16 0 3 0;
#X restore 82 295 pd body~;
#X obj 82 95 s \$0-midi_note;
#X obj 82 120 r \$0-midi_note;
#X obj 97 201 r \$0-midi_note;
#X connect 0 0 7 0;
#X connect 1 0 5 1;
#X connect 2 0 6 2;
#X connect 3 0 6 3;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 8 0 5 0;
#X connect 9 0 6 1;
#X coords 0 0 1 1 200 100 0;
